---
title: "BiomeBGC_dataPrep"
author: 
  - Dominique Caron
  - CÃ©line Boisvenue
date: "February 2026"
output:
  html_document:
    keep_md: yes
bibliography: citation.bib
editor_options:
  chunk_output_type: console
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, eval = FALSE, results = "hold", message = FALSE)
```

# Overview

Retrieves and prepares the input to run Biome-BGC version 4.2 through the module `BiomeBGC_core`.

# Parameters

Provide a summary of user-visible parameters.

```{r moduleParams, echo = FALSE, eval = TRUE}
df_params <- SpaDES.core::moduleParams("BiomeBGC_dataPrep", "..")
knitr::kable(df_params)
```

# Events

Describe what happens for each event type.

## Plotting

Write what is plotted.

## Saving

Write what is saved.

# Data dependencies

## Input data

Input data are parameters driving Biome-BGC. The default input data are from various sources, scale, and precision level. We calibrated default ecophysiological constants for Canadian tree species by aggregating data from @white_parameterization_2000, @hessl_ecophysiological_2004, and TRY plant Trait database [kattge_try_2020]. Meteorological data are retrieved through the BioSIM package [@fortin_web_2022, @fortin_package_2022]. Site-level parameters are extracted from the various sources:

- Dominant species: NTEMS dominant species layers for the 1st year of the simulation [@hermosilla_characterizing_2024].
- Elevation: AWS Open Data Terrain Tiles extracted with the elevatr package [@hollister_elevatr_2025].
- N deposition: Extracted from @zhu_changing_2025.
- N fixation rate: Extracted from @reis_ely_global_2025.
- Snow pack water content: Canada monthly snow water equivalent (SWE) for January [@mudryk_characterization_2015].
- Soil depth: The maximum soil depth layer of NACP MsTMIP: Unified North American Soil Map [@liu_north_2014].
- Soil texture: Soil Landscape Grids of Canada [@geng_100_2025].


```{r moduleInputs, echo = FALSE, eval = TRUE}
df_inputs <- SpaDES.core::moduleInputs("BiomeBGC_dataPrep", "..")
knitr::kable(df_inputs)
```

## Output data

Description of the module outputs.

```{r moduleOutputs, echo = FALSE, eval = TRUE}
df_outputs <- SpaDES.core::moduleOutputs("BiomeBGC_dataPrep", "..")
knitr::kable(df_outputs)
```

# Links to other modules

Prepares inputs for `BiomeBGC_core`.

# References

